
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
<title>D-Type Manual</title>
<link rel="stylesheet" type="text/css" href="../../common/include/style_001.css" />
</head>

<body>
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br />

<h1>PowerDoc Objects</h1>

<h2>Group Member</h2>
<h3 id="overview">Overview</h3>
The Group Member object is the building block used in the construction of the <a href="123.htm">Group</a> object. This object can represent any other visual PowerDoc object (i.e. object with a designated FnDraw rendering function) and can have its own horizontal and/or vertical offset within the group, transformation matrix, masking page and/or other attributes.<br />
<br />
<strong>Designated Rendering Function:</strong> NONE<br />
<h3 id="links">Links</h3>
<div class="pdoc_obj_descr"><h4 id="pdFnDrawObjectPtr"><em><span class="field">pdFnDrawObjectPtr</span> (1085)</em></h4>
<p class="also_appears_in"><small>Also appears in: <a href="009.htm#pdFnDrawObjectPtr">PowerFont Record</a>, <a href="122.htm#pdFnDrawObjectPtr">Generic Object</a></small></p>
<p>
Link to any visual PowerDoc object (i.e. any object with a designated FnDraw rendering function).<br />
<br />
The pdFnDraw property describes the visual object pointed by the pdFnDrawObjectPtr link. If pdFnDraw is missing, it is assumed pdFnDrawObjectPtr points to the <a href="123.htm">Group</a> object.<br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdGroupMemberPtr"><em><span class="field">pdGroupMemberPtr</span> (1087)</em></h4>
<p class="also_appears_in"><small>Also appears in: <a href="123.htm#pdGroupMemberPtr">Group</a></small></p>
<p>
Link to the <a href="013.htm">Group Member</a> object.<br />
<br />
This link in used to establish a link to the next group member.<br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdMaskPtr"><em><span class="field">pdMaskPtr</span> (1181)</em></h4>
<p>
Link to a masking object, i.e. an object whose alpha-channel will be used to mask the group member. This link must point to <a href="122.htm">Generic Object</a>. If masking is not required, the link should be omitted.<br />
<br />
The pdMaskPtr link takes precedence over the pdMask property.<br />
<br />
One advantage of masking using the pdMaskPtr link, compared to the pdMask property, is that the masking object has the same origin as the group member. Thus, if the group member is moved,  the masking object moves with it.<br />
</p>
</div>
<h3 id="props">Properties</h3>
<div class="pdoc_obj_descr"><h4 id="pdDx"><em><span class="field">pdDx</span> (1027)</em> &nbsp; <small class="label">PD_LONG_SIGNED</small></h4>
<p class="also_appears_in"><small>Also appears in: <a href="005.htm#pdDx">Text Layout (Automatic)</a></small></p>
<p>
Horizontal offset in document units.<br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdDy"><em><span class="field">pdDy</span> (1028)</em> &nbsp; <small class="label">PD_LONG_SIGNED</small></h4>
<p class="also_appears_in"><small>Also appears in: <a href="005.htm#pdDy">Text Layout (Automatic)</a></small></p>
<p>
Vertical offset in document units.<br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdFnDraw"><em><span class="field">pdFnDraw</span> (1086)</em> &nbsp; <small class="label">PD_WORD_SIGNED</small></h4>
<p class="also_appears_in"><small>Also appears in: <a href="009.htm#pdFnDraw">PowerFont Record</a>, <a href="122.htm#pdFnDraw">Generic Object</a></small></p>
<p>
Rendering function that describes the visual object pointed to by the pdFnDrawObjectPtr link.<br />
<br />
<strong>Supported values:</strong><br />
<br />
0 = Nothing<br />
1 = <a href="101.htm">Text Line</a><br />
2 = <a href="102.htm">Text Arc</a><br />
3 = <a href="103.htm">Text Area</a><br />
4 = <a href="111.htm">Line</a><br />
5 = <a href="113.htm">Circle/Ellipse</a><br />
6 = <a href="112.htm">Rectangle</a><br />
7 = <a href="114.htm">True Circle/Ellipse</a><br />
8 = <a href="115.htm">Slice</a><br />
9 = <a href="116.htm">Arc</a><br />
10 = <a href="106.htm">Rich Text Area</a><br />
11 = <a href="117.htm">Pattern</a><br />
12 = <a href="118.htm">Grid</a><br />
13 = <a href="119.htm">Custom Shape or Polygon</a><br />
14 = <a href="120.htm">Gradient</a>, <a href="125.htm">Gradient (As Fast Rectangle)</a>, <a href="126.htm">Gradient (As Inverter)</a><br />
15 = <a href="121.htm">Bitmap Image</a><br />
16 = <a href="108.htm">Char</a><br />
17 = <a href="104.htm">Rich Text Line</a><br />
18 = <a href="110.htm">Library Shape</a><br />
19 = <a href="105.htm">Rich Text Arc</a><br />
20 = <a href="107.htm">Glyph</a><br />
21 = <a href="122.htm">Generic Object</a><br />
22 = <a href="123.htm">Group</a><br />
23 = <a href="109.htm">PowerGlyph</a><br />
24 = <a href="124.htm">Polyline (also Bezier and B-Spline curves)</a><br />
25 = <a href="129.htm">Library Polyline</a><br />
26 = <a href="127.htm">Text Design</a><br />
27 = <a href="128.htm">Rich Text Design</a><br />
28 = <a href="130.htm">Text Path</a><br />
29 = <a href="131.htm">Rich Text Path</a><br />
30 = <a href="132.htm">Library Bitmap Image</a><br />
31 = <a href="133.htm">Background Surface</a><br />
10000 = <a href="301.htm">Button</a><br />
10001 = <a href="302.htm">Radio Button</a><br />
10002 = <a href="303.htm">Check Box</a><br />
10003 = <a href="304.htm">Text Box</a><br />
10004 = <a href="305.htm">List Box</a><br />
10005 = <a href="306.htm">Horizontal Slider</a><br />
10006 = <a href="307.htm">Vertical Slider</a><br />
10007 = <a href="308.htm">Rich Text Box</a><br />
10008 = <a href="309.htm">Rich Button</a><br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdTransformMatrix"><em><span class="field">pdTransformMatrix</span> (1088)</em> &nbsp; <small class="label">PD_ARR_LONG_SIGNED</small></h4>
<p>
Transformation matrix. This is an array that must contain either 4 or 8 elements. Each element is 4 bytes long and represents a single transformation parameter in the 14.18 fixed-point format (i.e. the transformation parameters are premultiplied by 262144).<br />
<br />
If the array contains 4 elements, the transformation matrix is assumed to be a special case of a two-dimensional affine transformation described by the following equation:<br />
<br />
tx = m[0][0] * x + m[0][1] * y<br />
ty = m[1][0] * x + m[1][1] * y<br />
<br />
In this case, the elements in the array are specified in the following order: m[0][0], m[0][1], m[1][0], m[1][1].<br />
<br />
If the array contains 8 elements, the transformation matrix is assumed to be a 2D perspective (or projective) transformation described by the following equation:<br />
<br />
tx = (m[0][0] * x + m[0][1] * y + m[0][2]) / w<br />
ty = (m[1][0] * x + m[1][1] * y + m[1][2]) / w<br />
<br />
where w = (m[2][0] * x + m[2][1] * y + m[2][2])<br />
<br />
In this case, the elements in the array are specified in the following order: m[0][0], m[0][1], m[1][0], m[1][1], m[0][2], m[1][2], m[2][0], m[2][1]. The m[2][2] parameter is assumed to equal 1.<br />
<br />
In the above equations x and y represent the original (source) coordinates in document units, m[i][j] represent the transformation parameters, while tx and ty represent the final (output) coordinates in document units.<br />
<br />
<strong>Sample values:</strong><br />
<br />
"185363, -185363, 185363, 185363"<br />
"185363, -185363, 185363, 185363, 500296, 500296, 0, 0"<br />
"125696, -1536, 0, 119296, -55050240, -31457280, 0, -262"<br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdAttribs"><em><span class="field">pdAttribs</span> (1094)</em> &nbsp; <small class="label">PD_BYTE_UNSIGNED</small></h4>
<p class="also_appears_in"><small>Also appears in: <a href="134.htm#pdAttribs">System Guide</a></small></p>
<p>
Attributes of an object.<br />
<br />
1) When used to build the <a href="013.htm">Group Member</a> object, this value should be interpreted as follows:<br />
<br />
Bit 0 unset = indicates a visible PowerDoc object.<br />
Bit 0 set = indicates a hidden PowerDoc object. Hidden object are not rendered.<br />
<br />
Bit 2 unset = do not use fractional positioning for object origins.<br />
Bit 2 set = use fractional positioning for object origins.<br />
<br />
All other bits are reserved for future use and must be set to 0.<br />
<br />
2) When used to build the <a href="134.htm">System Guide</a> object, the interpretation is different:<br />
<br />
Bit 0 = If set, show right part of the guide<br />
Bit 1 = If set, show bottom part of the guide<br />
Bit 2 = If set, show left part of the guide<br />
Bit 3 = If set, show top part of the guide<br />
Bit 4 = If set, the right part is just a short segment, otherwise it is infinitely long<br />
Bit 5 = If set, the bottom part is just a short segment, otherwise it is infinitely long<br />
Bit 6 = If set, the left part is just a short segment, otherwise it is infinitely long<br />
Bit 7 = If set, the top part is just a short segment, otherwise it is infinitely long<br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdName"><em><span class="field">pdName</span> (1139)</em> &nbsp; <small class="label">PD_WORD_SIGNED</small></h4>
<p>
User-defined name (ID) of an object.<br />
</p>
</div>
<div class="pdoc_obj_descr"><h4 id="pdMask"><em><span class="field">pdMask</span> (1093)</em> &nbsp; <small class="label">PD_LONG_SIGNED</small></h4>
<p>
Mask page.<br />
<br />
The number of the masking page, i.e. a page whose alpha-channel will be used to mask the group member. If masking is not required, this value should be set to 0 or omitted.<br />
</p>
</div>
<h3 id="example">Example</h3>
<p><strong>C/C++</strong></p>
<div class="box_field"><tt>DT_ID_SLONG obj[4];<br />
<br />
obj[0] = pdObjAdd(pd, 0, "Outline Style");<br />
obj[1] = pdObjAdd(pd, 0, "Line Definition");<br />
obj[2] = pdObjAdd(pd, 0, "LibShape");<br />
<strong>obj[3] = pdObjAdd(pd, 0, "Group Member");</strong><br />
<br />
<span class="codecomment">/* Properties for object 1 */</span><br />
pdPropAdd(pd, obj[0], pdRGBT, "00000000", PD_HEX);<br />
<br />
<span class="codecomment">/* Properties for object 3 */</span><br />
pdLinkAdd(pd, obj[1], pdStylePtr, obj[0]);<br />
pdPropAdd(pd, obj[1], pdLineThickness, "400", PD_WORD_SIGNED);<br />
<br />
<span class="codecomment">/* Properties for object 4 */</span><br />
pdLinkAdd(pd, obj[2], pdOutlinePtr, obj[1]);<br />
pdPropAdd(pd, obj[2], pdID, "56", PD_WORD_UNSIGNED);<br />
pdPropAdd(pd, obj[2], pdDw, "300", PD_LONG_SIGNED);<br />
pdPropAdd(pd, obj[2], pdDh, "300", PD_LONG_SIGNED);<br />
<br />
<span class="codecomment">/* Properties for object 9 */</span><br />
<strong>pdLinkAdd(pd, obj[3], pdFnDrawObjectPtr, obj[2]);<br />
pdPropAdd(pd, obj[3], pdTransformMatrix, "262144, -46223, 0, 262144", PD_ARR_LONG_SIGNED);<br />
pdPropAdd(pd, obj[3], pdFnDraw, "18", PD_WORD_SIGNED);<br />
pdPropAdd(pd, obj[3], pdDx, "0", PD_LONG_SIGNED);<br />
pdPropAdd(pd, obj[3], pdDy, "-300", PD_LONG_SIGNED);</strong><br />
</tt></div>
<p><strong>INTEGRAL DSL</strong></p>
<div class="box_field"><tt><span class="codecomment">/* Lambda shortcuts */</span><br />
<br />
local o = @(label = "") CDTObj(::my.doc, label); <span class="codecomment">/* to make object */</span><br />
local p = @(id, str, len = PD_DEFAULT) CDTProp(id, str, len); <span class="codecomment">/* to add property - general */</span><br />
local s = @(id, str) CDTPropStr(id, str); <span class="codecomment">/* to add property - string */</span><br />
local i = @(id, num) CDTPropInt(id, num); <span class="codecomment">/* to add property - integer */</span><br />
local l = @(id, obj) CDTLink(id, obj); <span class="codecomment">/* to add link */</span><br />
<br />
<span class="codecomment">/* Objects */</span><br />
<br />
local obj_0 = o("Outline Style");<br />
local obj_1 = o("Line Definition");<br />
local obj_2 = o("LibShape");<br />
local obj_3 = o("Group Member");<br />
<br />
obj_0 + s(pdRGBT, "00000000");<br />
<br />
obj_1 + l(pdStylePtr, obj_0);<br />
obj_1 + i(pdLineThickness, 400);<br />
<br />
obj_2 + l(pdOutlinePtr, obj_1);<br />
obj_2 + i(pdID, 56);<br />
obj_2 + i(pdDw, 300);<br />
obj_2 + i(pdDh, 300);<br />
<br />
obj_3 + l(pdFnDrawObjectPtr, obj_2);<br />
obj_3 + p(pdTransformMatrix, "262144, -46223, 0, 262144");<br />
obj_3 + i(pdFnDraw, 18);<br />
obj_3 + i(pdDx, 0);<br />
obj_3 + i(pdDy, -300);<br />
</tt></div>



&nbsp;
<br />
<br />
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br />&nbsp;
</body>
</html>
