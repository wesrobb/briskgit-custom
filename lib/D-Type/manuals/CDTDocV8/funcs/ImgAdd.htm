
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
<title>D-Type Manual</title>
<link rel="stylesheet" type="text/css" href="../../common/include/style_001.css" />
</head>

<body>
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br /><h1>CDTDocV8</h1>

<div class="box_prototype"><strong>ImgAddPlus</strong></div><br />
<div class="box_prototype"><strong>ImgAdd</strong></div><br />

<p>The ImgAddPlus (or ImgAdd) function adds a PowerDoc image of the PowerDoc object <em>obj</em> at the top of the specified PowerDoc page and sets its <em>X</em>, <em>Y</em> coordinates, transformation matrix, visibility and other applicable parameters.</p>
<p>The return value of this function is the image's index in the Power Engine document. This index uniquely identifies the newly created PowerDoc image.</p>

<p>The only difference between ImgAddPlus and ImgAdd is that ImgAddPlus uses a 3x3 transformation matrix while ImgAdd uses a 2x2 transformation matrix. Therefore, ImgAdd is more limited (i.e. this function cannot be used to apply a perspective transform to a PowerDoc image).</p>


<h3>Parameters</h3>

<table class="table_data" summary="Description of function parameters">
<tr><th>Parameter</th><th>Description</th></tr>

<tr><td>
<p><em>obj</em></p>
</td><td>
<p>Index of the PowerDoc object to be associated with the newly created PowerDoc image.</p>
</td></tr>

<tr><td>
<p><em>page</em></p>
</td><td>
<p>The number of the page that will hold the PowerDoc image. Although not a requirement, it is recommended that this value be non-negative.</p>
</td></tr>

<tr><td>
<p><em>x</em></p>
</td><td>
<p>X coordinate of the PowerDoc image (or more precisely its origin point) on the page, in document units.</p>
</td></tr>

<tr><td>
<p><em>y</em></p>
</td><td>
<p>Y coordinate of the PowerDoc image (or more precisely its origin point) on the page, in document units.</p>
</td></tr>

<tr><td>
<p><em>status</em></p>
</td><td>
<p>At present, this parameter can have one of the following values:</p>
<p><em>status</em> = 0 indicates a regular (non-selected) PowerDoc image.<br />
<em>status</em> = 1 indicates a selected PowerDoc image.</p>
<p>The Power Engine API provides additional functions that operate on PowerDoc images depending on their <em>status</em>. For example, <a href="ImgToTop.htm">ImgToTop</a>, <a href="ImgToBottom.htm">ImgToBottom</a>, <a href="ImgMoveToPage.htm">ImgMoveToPage</a>, <a href="ImgChangeAttribs.htm">ImgChangeAttribs</a>, <a href="ImgDelete.htm">ImgDelete</a> and many other <em>pdx</em> functions use this value when selecting PowerDoc images.</p>
<p>When rendering the page using the library's default settings, selected PowerDoc images are visually marked with a small black square located at their origin point.</p>
</td></tr>

<tr><td>
<p><em>attribs</em></p>
</td><td>
<p>Represents additional image attributes. Currently, the following values are supported:</p>
<p>
Bit 0 unset &mdash; indicates a visible PowerDoc image.<br />
Bit 0 set &mdash; indicates a hidden PowerDoc image. Hidden images are not rendered.
</p>
<p>
Bit 2 unset &mdash; do not use fractional positioning for image origins.<br />
Bit 2 set &mdash; use fractional positioning for image origins.
</p>
<p>All other bits are reserved for future use and must be set to 0.</p>
</td></tr>

<tr><td>
<p><em>mask</em></p>
</td><td>
<p>The number of the masking page, i.e. the page whose alpha-channel will be used to mask the newly created PowerDoc image. For example, if the PowerDoc image represents a circle and the <em>mask</em> page contains many vertical stripes, then the resulting PowerDoc image will resemble a vertically striped circle.</p>
<p>If masking is not required, <em>mask</em> should be set to 0.</p>
</td></tr>

<tr><td>
<p><em>fn_draw</em></p>
</td><td>
<p>A numerical value of the rendering function to be associated with the newly created PowerDoc image. This can be a user-defined value or one of the following pre-defined PowerDoc values:</p>

<table class="table_data">
<tr>
<th width="50%">Basic PowerDoc Rendering Functions</th>
<th width="50%">PowerDoc Rendering Functions To Render Form Controls</th>
</tr>
<tr valign="top">
<td><ul>
<li>pdDrawSysGuideDashed (-3)</li>
<li>pdDrawSysGuide (-2)</li>
<li>pdDrawError (-1)</li>
<li>pdDrawNothing (0)</li>
<li>pdDrawTextLine (1)</li>
<li>pdDrawTextArc (2)</li>
<li>pdDrawTextArea (3)</li>
<li>pdDrawLine (4)</li>
<li>pdDrawEllipse (5)</li>
<li>pdDrawCircle (5)</li>
<li>pdDrawRect (6)</li>
<li>pdDrawTrueEllipse (7)</li>
<li>pdDrawTrueCircle (7)</li>
<li>pdDrawSlice (8)</li>
<li>pdDrawArc (9)</li>
<li>pdDrawRichTextArea (10)</li>
<li>pdDrawPattern (11)</li>
<li>pdDrawGrid (12)</li>
<li>pdDrawPoly (13)</li>
<li>pdDrawPolygon (13)</li>
<li>pdDrawShape (13)</li>
<li>pdDrawGradient (14)</li>
<li>pdDrawInverter (14)</li>
<li>pdDrawFastRect (14)</li>
<li>pdDrawImage (15)</li>
<li>pdDrawBitmap (15)</li>
<li>pdDrawChar (16)</li>
<li>pdDrawRichTextLine (17)</li>
<li>pdDrawLibraryPoly (18)</li>
<li>pdDrawLibraryPolygon (18)</li>
<li>pdDrawLibraryShape (18)</li>
<li>pdDrawRichTextArc (19)</li>
<li>pdDrawGlyph (20)</li>
<li>pdDrawGenericObject (21)</li>
<li>pdDrawGroup (22)</li>
<li>pdDrawDefault (22)</li>
<li>pdDrawPowerGlyph (23)</li>
<li>pdDrawPolyline (24)</li>
<li>pdDrawLibraryPolyline (25)</li>
<li>pdDrawTextDesign (26)</li>
<li>pdDrawRichTextDesign (27)</li>
<li>pdDrawTextPath (28)</li>
<li>pdDrawRichTextPath (29)</li>
<li>pdDrawLibraryImage (30)</li>
<li>pdDrawLibraryBitmap (30)</li>
<li>pdDrawBackground (31)</li>
</ul>
</td>
<td><ul>
<li>fcDrawButton (10000)</li>
<li>fcDrawRadioButton (10001)</li>
<li>fcDrawCheckBox (10002)</li>
<li>fcDrawTextBox (10003)</li>
<li>fcDrawListBox (10004)</li>
<li>fcDrawHSlider (10005)</li>
<li>fcDrawVSlider (10006)</li>
<li>fcDrawRichTextBox (10007)</li>
<li>fcDrawRichButton (10008)</li>
<li>fcDrawRichListBox (10009)</li>
</ul>
</td>
</tr>
</table>
</td></tr>

<tr><td>
<p><em>transform</em></p>
</td><td>
<p>For ImgAddPlus, this is a 3x3 transformation matrix. This matrix represents the 2D perspective (or projective) transform to apply to the newly created PowerDoc image. For more information, see the description of the <a href="../../dt/manual/types.htm#DT_TM3X3">DT_TM3X3</a> basic data type in this manual.</p>

<p>For ImgAdd, this is a 2x2 transformation matrix. This matrix represents the top two rows and columns of the 2D perspective transform to apply to the newly created PowerDoc image. For more information, see the description of the <a href="../../dt/manual/types.htm#DT_TM2X2">DT_TM2X2</a> basic data type in this manual.</p>
</td></tr>

</table>


<h3>Return Value</h3>
<p>The return value is the images's index in the Power Engine document. This number uniquely identifies the newly created PowerDoc image. For this reason, we sometimes refer to this index as the <em>image's unique serial number</em>.</p>
<p>If an error occurs, the return value will be a negative number.</p>


<h3>Comments</h3>
<p>To avoid unexpected results, rendering functions must be assigned to PowerDoc images in accordance with D-Type's Guidelines For Creating PowerDoc Objects.</p>


<div class="aside">
<aside>
<div class="bar"><span class="close" onclick="this.parentElement.parentElement.style.display = 'none';">&times;</span> <strong>Related Pages</strong></div>
<div class="body">
<ul>
<li><a href="../../pd/manual/intro.htm">Introduction</a></li>
<li><a href="../../pd/manual/overview.htm">Overview</a></li>
<li><a href="../../pd/manual/concepts.htm">Basic Concepts</a></li>
<li><a href="../../pd/objects/intro.htm">PowerDoc Objects</a></li>
<li><a href="../../dt/manual/types.htm">Basic Data Types</a></li>
<li><a href="../../pd/manual/pdstructs.htm">Structure Types</a></li>
<li><a href="../../pd/manual/units.htm">Units</a></li>
</ul>
</div>
</aside>

<br />

<aside>
<div class="bar"><span class="close" onclick="this.parentElement.parentElement.style.display = 'none';">&times;</span> <strong>Examples</strong></div>
<div class="body">
<ul>
<li><a href="../../..//examples-cpp/example_powerdoc_frames">example_powerdoc_frames</a></li>
<li><a href="../../..//examples-cpp/example_powerdoc_output">example_powerdoc_output</a></li>
<li><a href="../../..//examples-cpp/example_powerdoc_viewer">example_powerdoc_viewer</a></li>
</ul>
</div>
</aside>

<br />

<aside>
<div class="bar"><span class="close" onclick="this.parentElement.parentElement.style.display = 'none';">&times;</span> <strong>Appendix</strong></div>
<div class="body">
<ul>
<li><a href="../../pd/index/index.htm">Index of Building Blocks</a></li>
<li><a href="../../pd/manual/polylib.htm">Library of Shapes and Polylines</a></li>
<li><a href="../../pd/manual/editor.htm">PowerDoc Editor</a></li>
</ul>
</div>
</aside>
</div>


&nbsp;
<br />
<br />
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br />&nbsp;
</body>
</html>
