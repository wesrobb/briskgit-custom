
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
<title>D-Type Manual</title>
<link rel="stylesheet" type="text/css" href="../../common/include/style_001.css" />
</head>

<body>
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br />

<h1>C/C++ Functions</h1>

<h2>txTextMakeViaBuffer</h2><div class="box_prototype"><strong>
DT_SLONG txTextMakeViaBuffer(DT_TXDOC text_doc, DT_TXENGINE engine, DT_SLONG nr_of_chars, const DT_UBYTE* buffer, DT_ID_SWORD buffer_format, DT_SWORD unicode_flags, const DT_TX_TEXTFLOW_AREA* area, const DT_TX_ATTRIBS text_attribs[], const DT_STREAM_DESC* fontmap_sd)</strong></div><br /><strong>Short Description:</strong> <em>Make text document - via buffer</em><br /><br />

<p>The txTextMakeViaBuffer function builds a Unicode text document by reading a plain text file stored in a memory buffer. This function optionally performs Unicode's implicit bidirectional reordering algorithm (BiDi) and auto-detects Unicode scripts (such as Latin, Arabic, Thai etc.) so that complex scripts can be shaped properly.</p>

<p>This function can only be called once in the specified text document instance, and only after a successful call to <a href="txTextIni.htm">txTextIni</a>. Applications that wish to rebuild their Unicode text using this function must first destroy the existing text document instance by calling <a href="txTextExt.htm">txTextExt</a> and then create a new one by calling <a href="txTextIni.htm">txTextIni</a>.</p>


<h3>Parameters</h3>

<table class="table_data" summary="Description of function parameters">
<tr><th>Parameter</th><th>Description</th></tr>

<tr><td>
<p><em>text_doc</em></p>
</td><td>
<p>Handle of the associated text document instance.</p>
</td></tr>

<tr><td>
<p><em>engine</em></p>
</td><td>
<p>Handle of the previously created Text Engine instance. See the <a href="txEngineIniViaStream.htm">txEngineIniViaStream</a> function for details on how to initialize D-Type Text Engine.</p>
</td></tr>

<tr><td>
<p><em>nr_of_chars</em></p>
</td><td>
<p>The length of the text, i.e. the number of characters (not bytes) in the memory buffer.</p>
</td></tr>

<tr><td>
<p><em>buffer</em></p>
</td><td>
<p>A valid pointer to a memory buffer in which the plain text file resides.</p>
</td></tr>

<tr><td>
<p><em>buffer_format</em></p>
</td><td>
<p>Format of the text in the memory buffer. Can be one of the following:</p>
<div class="box_field"><pre>
TX_BUFFER_FORMAT_1  1   <span class="codecomment">/* 1 byte per character &mdash; for ANSI */</span>&nbsp;
TX_BUFFER_FORMAT_2  2   <span class="codecomment">/* 2 bytes per character &mdash; for UCS2 */</span>&nbsp;
TX_BUFFER_FORMAT_3  3   <span class="codecomment">/* 3 bytes per character */</span>&nbsp;
TX_BUFFER_FORMAT_4  4   <span class="codecomment">/* 4 bytes per character &mdash; for UCS4 */</span>&nbsp;
</pre></div>
<p>These values have the following meaning:</p>
<ul>
<li><p>TX_BUFFER_FORMAT_1 indicates that the size of each character in the buffer is 1 byte. All characters have codepoints in the 0 - 255 range.</p></li>
<li><p>TX_BUFFER_FORMAT_2 indicates that the size of each character in the buffer is 2 bytes (little endian byte ordering). All characters have codepoints in the 0&nbsp;-&nbsp;65,535 range.</p></li>
<li><p>TX_BUFFER_FORMAT_3 indicates that the size of each character in the buffer is 3 bytes (little endian byte ordering). All characters have codepoints in the 0&nbsp;-&nbsp;16,777,215 range.</p></li>
<li><p>TX_BUFFER_FORMAT_4 indicates that the size of each character in the buffer is 4 bytes (little endian byte ordering). All characters have codepoints in the 0&nbsp;-&nbsp;4,294,967,295 range.</p></li>
</ul>
</td></tr>

<tr><td>
<p><em>unicode_flags</em></p>
</td><td>
<p>See <a href="txTextMakeViaStream.htm">txTextMakeViaStream</a>.</p>
</td></tr>

<tr><td>
<p><em>area</em></p>
</td><td>
<p>See <a href="txTextMakeViaStream.htm">txTextMakeViaStream</a>.</p>
</td></tr>

<tr><td>
<p><em>text_attribs</em></p>
</td><td>
<p>See <a href="txTextMakeViaStream.htm">txTextMakeViaStream</a>.</p>
</td></tr>

<tr><td>
<p><em>fontmap_sd</em></p>
</td><td>
<p>See <a href="txTextMakeViaStream.htm">txTextMakeViaStream</a>.</p>
</td></tr>

</table>


<h3>Return Value</h3>
<p>If the Unicode text document was built successfully, the return value will be the number of its characters. Otherwise, the function returns -1.</p>


<h3>Comments</h3>
<p>See <a href="txTextMakeViaStream.htm">txTextMakeViaStream</a></p>


<h3>Notes</h3>
<p>See <a href="txTextMakeViaStream.htm">txTextMakeViaStream</a></p>


<h3>Related Functions</h3>
<p>
<a href="txTextIniViaBuffer.htm">txTextIniViaBuffer</a><br />
<a href="txTextMakeViaStream.htm">txTextMakeViaStream</a>, <a href="txTextMakeViaPowerDoc.htm">txTextMakeViaPowerDoc</a>
</p>



&nbsp;
<br />
<br />
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br />&nbsp;
</body>
</html>
