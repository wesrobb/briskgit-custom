
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>
<title>D-Type Manual</title>
<link rel="stylesheet" type="text/css" href="../../common/include/style_001.css" />
</head>

<body>
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br />

<h1>C/C++ Functions</h1>

<h2>dtTypesetterSetCacheCompression</h2><div class="box_prototype"><strong>
DT_SWORD dtTypesetterSetCacheCompression(DT_DTENGINE engine, DT_ID_UBYTE bitmap_compress, DT_UBYTE reserved)</strong></div><br /><strong>Short Description:</strong> <em>Set Typesetter's bitmap cache compression</em><br /><br />

<p>This function enables or disables compression of glyph images in Typesetter's bitmap cache. Prior to D-Type Engine version 4.0.4.2, glyph images were always stored in the bitmap cache as non-compressed 8-bpp grayscale bitmaps. Starting with version 4.0.4.2, glyph images can also be stored in a highly compact (compressed) format. This function makes it possible to enable or disable this compression.</p>


<h3>Parameters</h3>

<table class="table_data" summary="Description of function parameters">
<tr><th>Parameter</th><th>Description</th></tr>

<tr><td>
<p><em>engine</em></p>
</td><td>
<p>Handle of the previously created Standard Engine instance.</p>
</td></tr>

<tr><td>
<p><em>bitmap_compress</em></p>
</td><td>

<p>A flag which specifies whether bitmap compression should be enabled or disabled.</p>

<ul>
<li><p>If 0 (DV_COMPRESSION_OFF), all glyph images in the bitmap cache are stored as non-compressed 8-bpp grayscale bitmaps.</p></li>
<li><p>If 1 (DV_COMPRESSION_ON), all glyph images in the bitmap cache are stored in a compressed format. This format is particularly suitable for compressing 8-bpp grayscale bitmaps.</p></li>
</ul>

</td></tr>

<tr><td>
<p><em>reserved</em></p>
</td><td>
<p>Reserved for future use. Must be set to 0.</p>
</td></tr>

</table>


<h3>Return Value</h3>

<p>If successful, the return value is 1. Otherwise, the function returns 0.</p>


<h3>Comments</h3>

<p>Bitmap cache compression is extremely fast and effective. If enabled, bitmaps will be cached in a compressed format and will consume 3-10 times less space in the bitmap cache than non-compressed bitmaps. This is highly recommended when the size of the bitmap cache is small (e.g. in memory constrained environments) or when the Typesetter's quality level is set to one of the LCD quality levels (since bitmaps optimized for LCD screens consume three times more storage space than regular bitmaps).</p>

<p><strong>Note 1:</strong> When the bitmap cache compression is enabled and your application attempts to obtain a pointer to a memory location in the bitmap cache at which the grayscale memory bitmap data begins (e.g. using the <a href="dtGlyphDoOutput.htm">dtGlyphDoOutput</a> function), please remember that in this case the bitmap data will be compressed. You will not be able to read this data without first decompressing it. You can use the <a href="dtBitmapDecompress.htm">dtBitmapDecompress</a> function to decompress compressed grayscale bitmap data.</p>

<p><strong>Note 2:</strong> Bitmap cache compression can also be enabled or disabled during the initialization of D-Type Engine. For details, please review the structure of the <a href="../manual/inifiles.htm#inf">dtype.inf</a> file in the <a href="../manual/inifiles.htm">Initialization Files</a> section of this document.</p>


<h3>Example</h3>

<table border="0" cellspacing="0" cellpadding="0"><tr><td><img src="../images/compress_off.gif" alt="A plain 8-bpp grayscale bitmap of the glyph S" width="84" height="108" />
</td><td>&nbsp;&nbsp;&nbsp;&nbsp;
</td><td>
A plain 8-bpp grayscale bitmap of the glyph "S". The dimensions of this bitmap are 84 x 108 pixels. Thus, this bitmap will consume 9072 bytes of storage space in the bitmap cache (if stored non-compressed). Note that if this bitmap was optimized for LCD screens, it would consume even more space in the bitmap cache (three times as much).
</td></tr>

<tr><td>&nbsp;</td></tr>

<tr><td><img src="../images/compress_on.gif" alt="A representation of the compressed grayscale bitmap of the glyph S" width="93" height="15" />
</td><td>&nbsp;&nbsp;&nbsp;&nbsp;
</td><td>
A representation of the compressed grayscale bitmap of the same glyph "S". This compressed bitmap will consume only 1395 bytes of storage space in the bitmap cache which is about 15% of the original non-compressed size. Thus, by using the bitmap compression we were able to reduce this bitmap's storage requirements by more than 6.5 times!
</td></tr>

</table>

<br />
&nbsp;



&nbsp;
<br />
<br />
<a href="../../common/manual/index.htm"><img src="../../common/images/index.gif" border="0" alt="Index" /></a><br />&nbsp;
</body>
</html>
